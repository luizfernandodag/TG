%TCIDATA{LaTeXparent=0,0,relatorio.tex}
                      

\chapter{Laboratórios Propostos}\label{CapDesenvolvimento}

% Resumo opcional. Comentar se não usar.
\resumodocapitulo{}



\section{Introdução}

Neste capítulo,  são apresentadas as propostas de prática com a placa de desenvolvimento Intel\textsuperscript{\textregistered} Galileo. As práticas serão proposta seguindo o modelo apresentado na seção \ref{Masterizacao}.

\section{Prática 1: Começando  a usar o \textit{Galileo}}
\label{pratica1}
Esta é a primeira prática com a placa Intel\textsuperscript{\textregistered} Galileo. Nela são descritas os passos iniciais para o desenvolvimento e implementação de soluções. 

Os objetivos desta prática são 

\begin{itemize}
	\item Realizar com sucesso a instalação do driver e da interface de programação para Arduíno
	\item Criar um programa para a placa Galileo capaz de fazer um LED piscar
\end{itemize}
 


\begin{table}[H]
	\centering
	\label{Pratica1}
	\caption{Prática 1: Começando  a usar o \textit{Galileo}}
	\begin{tabular}{|l|l|}
		\hline
		\textbf{Nome da prática}                                                                                  & Prática 1: Começando a usar a placa Intel Galileo                                                                                                                                                        \\ \hline
		\textbf{Objetivos}                                                                                        & \begin{tabular}[c]{@{}l@{}}1)Instalar do driver para uso da placa placa Galileo\\ 2)Instalar IDE do Arduino\\ 3)Realizar a primeira prática utilizando a placa Galileo\end{tabular}                      \\ \hline
		\textbf{\begin{tabular}[c]{@{}l@{}}Pré-requisitos/ \\ Habilidades masterizadas  necessárias\end{tabular}} & Nenhum                                                                                                                                                                                                   \\ \hline
		\textbf{Revisão Téorica - Hardware}                                                                       & \begin{tabular}[c]{@{}l@{}}Circuito - seção \ref{EmbassamentoHardware_circuito}\\ Resistor - seção \ref{EmbassamentoHarware_Resistor}\\ LED - seção \ref{EmbassamentoHardware_LED}\end{tabular} \\ \hline
		\textbf{Revisão Téorica - Software}                                                                       & Programação Arduino - seção \ref{EmbassamentoSoftware_Arduino_Padrao}                                                                                                                                \\ \hline
		\textbf{Material necessário}                                                                              & \begin{tabular}[c]{@{}l@{}}- 1 Placa Galileo\\ - 1 Transformador 220/120 V -\textgreater 12 V\\ - 1 cabo USB-Micro-USB \\ - 1 LED\end{tabular}                                                           \\ \hline
		\textbf{Bibliografia}                                                                                     & \begin{tabular}[c]{@{}l@{}}-Manual de instalação Galileo\\ -Livro ou Website com guia para programação\\ em Arduino(sugestão Getting Started With Galileo)\end{tabular}                                  \\ \hline
		\textbf{\begin{tabular}[c]{@{}l@{}}Habilidades a serem masterizadas\\ com essa prática\end{tabular}}      & \begin{tabular}[c]{@{}l@{}}1) O aluno é capaz de instalar a placa Galileo no\\  sistema operacional Windows 8\\ 2) O aluno é capaz de escrever um programa \\ simples para Galileo\end{tabular}          \\ \hline
	\end{tabular}
\end{table}

\subsection{Procedimentos}

Para realizar a primeira prática com Intel\textsuperscript{\textregistered} Galileo, é necessário realizar sequencialmente os seguintes procedimentos descritos nas 
sub-seções seguintes \ref{Pratica1subsectionDriver} \ref{Pratica1subsectionIDEArduino} e \ref{Pratica1subsectionPrimeiraPrática}. 
\subsubsection{Instalação da IDE Arduino}
\label{Pratica1subsectionIDEArduino}

O primeiro passo para o uso da placa Galileo é realizar o download da IDE de programação Arduino no website \textit{https://www.arduino.cc/en/Main/Software} como mostrado na Figura \ref{arduino1}.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.8\textwidth]{figs/arduino1.eps}
	\caption{Site para baixar a IDE do Arduino para programação em Galileo.}
	\label{arduino1}
\end{figure}

Após realizar o download da IDE do Arduino, é necessário realizar o download do \textit{Firmware} do Galileo para realizar a programação para a placa. 

Primeiramente é necessário clicar em \textit{Boards Manager} no gerenciador de placas da IDE do Arduino como mostrado na Figura \ref{arduino2} 
\begin{figure}[H]
	\centering
	\includegraphics[width=0.7\textwidth]{figs/arduino2.eps}
	\caption{Adicionando o Firmware para programar a placa Galileo.}
	\label{arduino2}
\end{figure}

Na janela \textit{Boards Manager}, digite galileo e realize o download do pacote \textbf{\textit{Intel\textsuperscript{\textregistered} i586 Boards}} como mostrado na Figura \ref{arduino3}

\begin{figure}[H]
	\centering
	\includegraphics[width=0.7\textwidth]{figs/arduino3.eps}
	\caption{Realizando o download do Firmware para programação da placa Galileo.}
	\label{arduino3}
\end{figure}

Após o download ter sido realizado, a opção de programação para a placa Galileo é mostrada na janela \textit{Tools/Board}. Selecione a opção Intel \textsuperscript{\textregistered} Galileo Gen 2 como mostrado na Figura \ref{arduino4}.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.7\textwidth]{figs/arduino4.eps}
	\caption{Selecionando a placa Galileo.}
	\label{arduino4}
\end{figure}


\subsubsection{Instalação do Driver para a placa Intel\textsuperscript{\textregistered} Galileo}
\label{Pratica1subsectionDriver}
Após realizar os passos descritos na sub-seção \ref{Pratica1subsectionIDEArduino}, é necessário realizar o download é instalação do \textit{Driver} para a placa Intel\textsuperscript{\textregistered} Galileo.

Ao se entrar no \textit{Device Manager} com a placa Galileo ligada e conectada a uma porta USB do computador, é mostrada uma janela similar à Figura \ref{arduino5}. É mostrado que o driver \textit{Gadget Serial v2.4} não se encontra instalado.
\begin{figure}[H]
	\centering
	\includegraphics[width=0.7\textwidth]{figs/arduino5.eps}
	\caption{Serial Galileo: Gadget Serial v2.4}
	\label{arduino5}
\end{figure}

É necessário fazer o download do drive no website da Intel\textsuperscript{\textregistered}: \textit{https://downloadcenter.intel.com/downloads/eula/24748/Intel-Galileo-Firmware-and-Drivers-1-0-4} como mostrao na Figura \ref{arduino6}.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.7\textwidth]{figs/arduino6.eps}
	\caption{Site para download do Serial da placa \textit{Galileo}}
	\label{arduino6}
\end{figure}

Após realizar o download do Serial, clique como o botão esquerdo do mouse no \textit{Gadget Serial v2.4} mostrado em \textit{Device Manager} mostrado na Figura \ref{arduino7}.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.7\textwidth]{figs/arduino7.eps}
	\caption{Atualizando o Driver para a placa Galileo}
	\label{arduino7}
\end{figure}

Clique na opção marcada com o retângulo vermelho da Figura \ref{arduino8}.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.7\textwidth]{figs/arduino8.eps}
	\caption{Selecionando o Driver baixado para atualização.}
	\label{arduino8}
\end{figure}

Selecione o local do computador onde o driver foi baixado. \ref{arduino9}.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.7\textwidth]{figs/arduino9.eps}
	\caption{Selecionando a pasta onde se encontra o driver baixado.}
	\label{arduino9}
\end{figure}

Após o driver ter sido instalado, a janela do \textit{Device Manager} será similar à Figura \ref{arduino10}.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.7\textwidth]{figs/arduino10.eps}
	\caption{Driver atualizado.}
	\label{arduino10}
\end{figure}

Volte ao IDE do Arduino e selecione a porta COM disponilizada para a placa Galileo, como mostrado na Figura \ref{arduino11}.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.7\textwidth]{figs/arduino11.eps}
	\caption{Selecionando a porta COM apropriada}
	\label{arduino11}
\end{figure}




\subsubsection{Prática 1 - Procedimentos}
\label{Pratica1subsectionPrimeiraPrática}

Para a primeira prática, é feito um programa em Arduino para fazer um LED piscar. Como citado na seção \ref{Embassamento_LED}, para se acender um LED, é necessário submeter o seu ánodo ao nível alto de tensão e seu cátodo à um nível baixo de tensão. 

Nessa primeira prática, o circuito mostrado na Figura \ref{LED1} é construído como mostrado na Figura \ref{arduino12}.

Os passos a serem seguidos são os seguintes: 
\begin{enumerate}
	\item Conecte o ánodo do LED (perna grande do LED) na porta 13 do galileo. 
	\item Conecte o cátodo do LED (perna pequena do LED) na porta GND.
	\item Escreva o código na IDE do Arduino para piscar LED segundo mostrado em \ref{Pratica1Codigo}. 
\end{enumerate}


\subsection{Esquema de montagem}

\begin{figure}[H]
	\centering
	\includegraphics[width=0.9\textwidth]{figs/arduino12.eps}
	\caption{Circuito da prática 1.}
	\label{arduino12}
\end{figure}

\subsection{Código fonte}
\label{Pratica1Codigo}
\lstinputlisting[label = Pratica1, caption = Código Prática 1]{Praticas/Pratica1/blink/blink.ino}

\subsection{Comentários}

Com relação a esta prática, os procedimentos de instalação do driver da placa Intel\textsuperscript{\textregistered} Galileo podem ser feitos anteriomente à execução da prática laboratorial, de forma a economizar tempo para outros tópicos.



\section{Prática 2: Introdução a leitura de sensores e tipos de variáveis}
\label{pratica2}

Esta prática é destinada, com relação aos tópicos de programação a introduzir os conceitos de diretivas de compilação e tipos de dados.

Os objetivos desta prática são 

\begin{itemize}
	\item Aprender a utilizar uma protoboard.
	\item Aprender a utilizar um potênciometro.
	\item Aprender a utilizar um sensor de luz LDR.
	\item Criar um circuito de um sensor de luz utilizando LDR, potênciometro, protoboard e a placa Galileo.
	\item Aprender os tipos básicos de variáveis de forma a implementar um sensor de luz.
\end{itemize}
 

\begin{table}[H]
	\centering
	\caption{My caption}
	\label{my-label}
	\begin{tabular}{|l|l|}
		\hline
		\textbf{Nome da prática}                                                                                  & Prática 2: Introdução a leitura de sensores e tipos de variáveis                                                                                                                                                                                                                                                               \\ \hline
		\textbf{Objetivos}                                                                                        & \begin{tabular}[c]{@{}l@{}}1)Aprender o básico sobre\\ diretivas de programação\\ 2)Aprender os diferentes\\ tipos de variáveis e suas\\ respectivas utilidades\\ 3)Aprender a ler o valor\\ numa porta analógica na \\ placa Galileo\\ 4)Aprender a utilizar um divisor\\ de tensão para regular um\\ sensor\end{tabular}             \\ \hline
		\textbf{\begin{tabular}[c]{@{}l@{}}Pré-requisitos/ \\ Habilidades masterizadas  necessárias\end{tabular}} & Pratica 1 - seção \ref{pratica1}                                                                                                                                                                                                                                                                                                    \\ \hline
		\textbf{Revisão Téorica - Hardware}                                                                       & \begin{tabular}[c]{@{}l@{}}Protoboard - seção \ref{EmbassamentoHardware_Protoboard}\\Divisor de tensão - seção \ref{EmbassamentoHardware_DivisorTesao}\\ Potênciometro - seção \ref{EmbassamentoHardware_Potenciometro}\\ LDR - seção \ref{EmbassamentoHardware_LDR} \end{tabular}                                                                                                                                                                  \\ \hline
		\textbf{Revisão Téorica - Software}                                                                       & \begin{tabular}[c]{@{}l@{}}Processo de compilação - seção \ref{EmbassamentoSoftware_Compilacao} \\ Diretivas de compilação - seção \ref{EmbassamentoSoftware_DireitivasCompilacao}\\ Tipos básico de variáveis - seção \ref{EmbassamentoSoftware_TiposVariaveis}\\ Conversão entre tipos de variáveis - seção \ref{EmbassamentoSoftware_ConversaoEntreVariaveis}\\  Leitura Analógica - \\Conversão Analógico Digital -seção \ref{EmbassamentoSoftware_ConversaoAnalogicoDigital}\end{tabular}                               \\ \hline
		\textbf{Material necessário}                                                                              & \begin{tabular}[c]{@{}l@{}}- 1 Placa Galileo\\ - 1 Transformador 220/120 V -\textgreater 12 V\\ - 1 cabo USB-Micro-USB \\ - 1 LED\\ - 1 Potênciometro de 10k ohm\\ - 1 LDR\\ - 1 Protoboard\\- 5 fios jumper\end{tabular}                                                                                                                       \\ \hline
		\textbf{Bibliografia}                                                                                     & \begin{tabular}[c]{@{}l@{}}- Eletrônica básica \cite{livroEletronica}\\ - A linguagem de programação C \cite{livroProgramacaoC}\end{tabular}                                                                                                                                                                                                               \\ \hline
		\textbf{\begin{tabular}[c]{@{}l@{}}Habilidades a serem masterizadas\\ com essa prática\end{tabular}}      & \begin{tabular}[c]{@{}l@{}}1) O aluno é capaz de construir\\ um circuito simples na protoboard\\ 2) O aluno sabe como utilizar\\ um potênciometro\\ 3) O aluno entende o funcionamento\\ de sensores resistivos\\ 4) O aluno sabe identificar\\ e utilizar aos tipo variáveis básicas em \\programação para a linguagem C\end{tabular} \\ \hline
	\end{tabular}
\end{table}



\subsection{Procedimentos}

Os passos a serem seguidos nessa prática são os seguintes:

\begin{itemize}
	\item Construção do circuito de um sensor de luz.
	\item Codificação para leitura de valores de tensão em tal circuito.
\end{itemize}

\subsection{Esquema de montagem}

Para esta prática, um circuito de acordo com o esquemático mostrado na Figura \ref{pratica2_1}.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.65\textwidth]{figs/pratica2_1.jpg}
	\caption{Esquemático do circuito da prática 2.}
	\label{pratica2_1}
\end{figure}

A construção do circuito na protoboard é mostrada na Figura \ref{pratica2_2}.

Os passos para a construção do circuito na protoboard são os seguintes

\begin{enumerate}
	\item Coloque o pino de 5V na trilha + da protoboard.
	\item Coloque o pino de GND na trilha - da protoboard.
	\item Coloque as pernas do LDR em trilhas separadas na região central da protoboard.
	\item Conecte em uma das pernas do LDR a trilha + da protoboard utilizando um dos jumpers
	\item Conecte na trilha onde se encontra a outra perna do LDR o pino central do potênciometro.
	\item Conecte o pino mais afastado do LDR à trilha - utilizando um jumper.
	\item Conecte a trilha onde se encontra o pino central do potênciometro à entrada analógico A0 da placa galileo
	\item Conecte o LED nos pinos digital 13 e GND, como mostrado na figura \ref{pratica2_2}.
	
	
		
\end{enumerate}


\begin{figure}[H]
	\centering
	\includegraphics[width=0.65\textwidth]{figs/pratica2_2.jpg}
	\caption{Circuito da prática 2 construído numa protoboard.}
	\label{pratica2_2}
\end{figure}

\subsection{Código fonte}
\label{Pratica2Codigo}

%\Praticas\Pratica 2\pratica2Arduino.ino

\lstinputlisting[label = Pratica2, caption = Código Prática 2]{Praticas/Pratica2/pratica2Arduino.ino}

\subsection{Comentários}

No código fonte desta prática, são utilizados diretivas de programação, e todos tipos básicos de variável. É utilizado também uma variável de tipo char *. Tal tipo será estudado numa prática de vetores e alocação dinâmica de memória a ser mostrada posteriormente.

