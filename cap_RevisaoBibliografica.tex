%TCIDATA{LaTeXparent=0,0,relatorio.tex}
\chapter{Revisão Bibliográfica}\label{CapRevisaoBibliografica}

%%%%%%%%%%%%%%%%%%%%% chapter.tex %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Capítulo Introdução 
%
% 
%
%%%%%%%%%%%%%%%%%%%%%%%%  %%%%%%%%%%%%%%%%%%%%%%%%%%
%\chapter{Revisão bibliográfica}
\label{revbib} % Always give a unique label
% use \chaptermark{}
% to alter or adjust the chapter heading in the running head

%\abstract{ O objetivo deste capítulo é explicitar todos conceitos relevantes deste trabalho relativos a ensino e aprendizagem de Ciências Exatas e Engenharia e a estrutura da placa Intel Galileu. Esses estudos servirão para a proposição um modelo de aula de programação básica para estudantes de graduação levando em conta os paradigmas de educação mais eficientes dentre os elencados.}

%\section{A placa Intel Galileo}
%\label{sec:1}


%\begin{figure}[h]
%\centering
%\includegraphics[width=0.5\linewidth]{chapter1/Galileo.jpg}
%\caption{Placa Intel Galileo\label{fig:1}}
%\end{figure}


% Resumo opcional. Comentar se não usar.
%\resumodocapitulo{Neste capítulo }
 O objetivo deste capítulo é explicitar todos conceitos relevantes deste trabalho relativos a ensino e aprendizagem de Ciências Exatas e Engenharia e a estrutura detalhada da placa Intel Galileu. Esses estudos servirão de base para a proposição um modelo de aula de programação básica para estudantes de graduação levando em conta os paradigmas de educação mais eficientes dentre os elencados.

\section{Placa Intel \textsuperscript{\textregistered} Galileo}
\label{CapGalileo}

A placa Intel\textsuperscript{\textregistered}  Galileo é uma \textit{placa de desenvolvimento} com microcontrolador baseado processador Intel\textsuperscript{\textregistered} Quark SoC X1000\cite{DATASHEET0}. A placa Galileo possui software e hardware compatível com a placa \textit{Arduino} com relação aos pinos digitais e analógicos. Um programa escrito para Arduino pode ser usado no Galileu por causa dessa compatibilidade. As Figura \ref{FigPinosFrente} e \ref{FigPinosTras} mostram a placa Intel \textsuperscript{\textregistered} em suas visão frontal e traseira. 

Nesta seção são apresentadas, enumeradas e explicadas todas características da placa Intel\textsuperscript{\textregistered} Galileo. 

Primeiramente são apresentados os pinos da placa Galileo juntamente com uma breve descrição de seu uso. Após isso são descritas as enumeradas e explicadas todas características eletro-eletrônicas da placa. Para cada tecnologia na placa é reservada uma pequena sub-seção neste capítulo para sua devida elucidação.

\begin{comment}
\begin{figure}[tb]
	\centering
	\mbox{
		\subfigure[Placa Intel\textsuperscript{\textregistered} Galileo - Parte Frontal]{\includegraphics[width=0.3\textwidth]{figs/galileofrente.eps}}\quad\quad
		\subfigure[Placa Intel\textsuperscript{\textregistered} Galileo - Parte Traseira]{\includegraphics[width=0.35\textwidth]{figs/galileotras.eps}}}
	
	\caption{Placa Intel\textsuperscript{\textregistered} Galileo \cite{DATASHEET1} }
	\label{FigPlacaIntelGalileo_vistas}
\end{figure}
\end{comment}

\subsection{Pinagem  da placa Intel \textsuperscript{\textregistered} Galileo}
\label{SecPinagemGalileo}
 


Os pinos da placa Galileo nas partes frontal e traseira são mostrados nas figuras \ref{FigPinosFrente} e \ref{FigPinosTras} 

\begin{figure}[t]
	\centering
	\includegraphics[width=0.31\textwidth]{figs/galileoFrentePinos.eps}
	\caption{Descrição dos pinos da placa Galileo - parte frontal\cite{DATASHEET1}}
	\label{FigPinosFrente}
\end{figure}


\begin{figure}[t]
	\centering
	\includegraphics[width=0.31\textwidth]{figs/galileoTrasPinos.eps}
	\caption{Descrição dos pinos da placa Galileo - parte traseira\cite{DATASHEET1}}
	\label{FigPinosTras}
\end{figure}





A descrição de cada um desses pinos é a descrita na tabela \ref{TabPinos}:

\begin{table}[]
	\centering
	\caption{Pinos Galileo\cite{DATASHEET1}}
	\label{TabPinos}
	\begin{tabular}{|l|l|}
		\hline
		\textbf{Pino}           & \textbf{Descrição}                                                                                                                                                                                                 \\ \hline
		Micro SD Card Slot      & \begin{tabular}[c]{@{}l@{}}Pino no qual se pode um SD Card para permitir ao Galileo\\  a execução de uma versão de Linux com mais recursos\end{tabular}                                                            \\ \hline
		Arduino Expansions Pins & \begin{tabular}[c]{@{}l@{}}Pinos de entrada e saída da placa Galileo. Esses pinos são compatíveis\\  com os pinos do Arduino e Shields relacionadas.\end{tabular}                                                  \\ \hline
		USB Device Port         & \begin{tabular}[c]{@{}l@{}}Pino para conectar um cabo USB do Galileo ao computador\\  para carregar o Galileo com um programa Arduino\end{tabular}                                                                 \\ \hline
		Host USB Port           & Pino para conectar um dispositivo periférico ( como webcam, caixa de som, etc)                                                                                                                                     \\ \hline
		6-Pin FTDI Header       & Adaptador para comunicação serial computador - Linux instalado no Galileo                                                                                                                                          \\ \hline
		Power Input             & \begin{tabular}[c]{@{}l@{}}Conexão para bateria de 12V. ATENÇÃO, a bateria sempre deve ser conectada\\ ao Galileo antes de conectar um cabo USB do Galileo ao computador para evitar\\ danos a placa.\end{tabular} \\ \hline
		Ethernet Port           & Pino para conectar o Galileo à Internet pelo cabo Ethernet                                                                                                                                                         \\ \hline
		Mini PCI Express Slot   & Pino para conectar um cartão WiFi                                                                                                                                                                                  \\ \hline
		Clock Baterry Power     & \begin{tabular}[c]{@{}l@{}}Conexão para uma bateria de relógio de 3V de forma a fazer com Galileo guarde \\ informações de data e hora\end{tabular}                                                                \\ \hline
		Reboot Button           & Botão para realizar a placa, inclusive o sistema operacional                                                                                                                                                       \\ \hline
		Reset Button            & Botão para resetar o código que foi carregado no Galileo                                                                                                                                                           \\ \hline
	\end{tabular}
\end{table}



\subsection{Características Elétricas e Eletrônicas da placa Intel \textsuperscript{\textregistered} Galileo}

As características elétricas e eletrônicas da placa são enumeradas a seguir. As características que têm uma sub-seção para explicação mais aprofundada estão marcadas com \textit{itálico} e \textbf{negrito}: 
\begin{itemize}
	\item Clock de 400 MHz
	\item Arquitetura Intel\textsuperscript{\textregistered} 32 bits
	\item 14 pinos digitais para entrada e saída, 6 das quais podem ser usadas para saída \textit{\textbf{PWM}}
	\item 6 pinos para entrada analógica utilizando o\textit{\textbf{ conversor analógico-digital AD7298}}
	\item Barramento Serial \textit{\textbf{I2C}}
	\item Comunicação serial com periféricos \textit{\textbf{SPI}}
	\item Porta Serial \textit{\textbf{UART}}
	\item 16KBytes de memória \textit{\textbf{L1 Cache}}
	\item 512KBytes de memória \textit{\textbf{SRAM}}
	\item Clock de tempo real integrado \textit{\textbf{(RTC)}}
	\item Barramento \textit{\textbf{PCI Express}}
	\item Conexão para \textit{\textbf{USB Host e USB Client}}
	\item 10 pinos padrões \textit{\textbf{JTAG}} para debug
	\item 256 MBytes de memória \textit{\textbf{DRAM}}
	\item 11 KBytes de memória \textit{\textbf{EEPROM}} 
\end{itemize}

\subsubsection{Sinal PWM}

Pulse Width Modulation (PWM) ou Modulação por Largura de Pulso é uma técnica que modulação de impulso utilizada principalmente para codificar uma mensagem num sinal pulsante\cite{livro:Sedra} 

Para o caso do Intel Galileo, as aplicações do sinal PWM são principalmente relacionadas ao controle da tensão DC fornecida a um circuito. 

O sinal PWM é gerado com ondas quadradas, de périodo \textit{T} de ciclo. Durante parte do período, o sinal terá amplitude \textit{Vmax}. O intervalo de tempo no qual no sinal tem amplitude \textit{Vmax} é chamado \textit{Duty-Cicle} como mostra a Figura \ref{FigPWM}. O valor DC de um sinal periódico é calculado como a média aritmética da amplitude do sinal no período. O valor da tensão DC fornecida ao circuito pelo Sinal PWM é calculado com a equação \ref{EqPMW1}:     


\begin{figure}[t]
	\centering
	\includegraphics[width=1\textwidth]{figs/PWM.eps}
	\caption{Sinal PWM}
	\label{FigPWM}
\end{figure}    

\begin{equation}
V_{dc} = 1/T() \int_{0}^{Duty Cicle}Vmax dt + \int_{Duty Cicle}^{T}Vmin dt)%
 \label{EqPMW1}
\end{equation}

\begin{equation}
V_{dc} = 1/T(Duty Cicle*V_{max} + T*V_{min} - Duty Cicle*V_{min} )%
\label{EqPMW2}
\end{equation}

Se a tensão mínima (Vmin) for igual a zero, o valor DC do sinal PWM é dado por:

\begin{equation}
V_{dc} = \frac{DutyCicle*V_{max}}{T}
\label{EqPMW3}
\end{equation}

A equação \ref{EqPMW3} mostra que quanto maior for o tempo que o sinal permanecer no seu valor máximo (Vmax), mais próximo de Vmax será o valor DC fornecido ao circuito. 

O sinal PMW é gerado na placa Galileo utilizando o clock interno máximo de 400 MHz e registradores de Timer específicos para contagem de pulsos do clock. 

Como exemplo para a geração do sinal PWM, digamos que o clock da placa foi setado para a frequência 1kHz. Isso significa que a cada 1ms, o clock gerará um pulso, como indicado na equação \ref{EqPMW4}.

\begin{equation}
f = 1 Khz \;  ->   T = 1ms \; -> 1000\;pulsos\; de\; clock\; por\; segundo
\label{EqPMW4}
\end{equation}

Como a tensão de operação da placa Galileo é 5 V, então:

\begin{equation}
V_{max} = 5 V
\label{EqPMW5}
\end{equation}

Caso se queria gerar um sinal PWM cujo componente DC seja 2.5,  é necessário então que durante metade do ciclo do sinal PWM, a amplitude do cinal seja 5 V e durante a outra metade do ciclo, a amplitude seja 0V. Para criar tal sinal, o microcontrolador realiza contagem de pulsos de clock.

 Para gerar 2.5 V, o microcontrolador( para a frequência exemplo de 1kHz) realiza a contagem de 500 pulsos de clock no intervalo de \textit{DutyCicle} e realiza, após isso, a contagem de 500 pulsos no período no qual a amplitude será de 0 V.Dessa forma, é gerado digitalmente o sinal PWM na placa Galileo. 
 
 Como dito no ínicio desta seção, placa Galileo é compatível com a placa Arduíno, tanto a nível de hardware quanto a nível de software. Daí, para executar a criação de um sinal PWM na placa galileu  deve-se chamar a função \textit{analogWrite(int porta, int valor)}. 
 
A função \textit{analogWrite(int porta, int valor)} recebe como parâmetros dois inteiros. O inteiro \textit{porta} indica quais dos pinos digitais, habilitados para saída PWM, foi selecionado. O inteiro valor deve ser um inteiro entre 0 e 255.
\begin{lstlisting}
//Comando para setar na porta digital 5 o valor 5*(127/255) = 2.5 Volts
analogWrite(5, 127);
\end{lstlisting}

A tensão DC que estará presente no pino digital segue a formula: \ref{EqPMW6}

\begin{equation}
V_{dc} =  \frac{5*valor}{255}
\label{EqPMW6}
\end{equation}





\subsubsection{Conversão analógico-digital}
\subsubsection{Barramento Serial I2C}
\subsubsection{Comunicação serial SPI}
\subsubsection{Porta Serial UART}
\subsubsection{Memória Cache}
\subsubsection{Memória SRAM}
\subsubsection{Clock de tempo real - RTC}
\subsubsection{Barramento PCI-Express}
\subsubsection{USB Host e USB Client}
\subsubsection{Pinos JTAG}
\subsubsection{Memória DRAM}
\subsubsection{Memória EEPROM}

















