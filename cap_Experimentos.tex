%TCIDATA{LaTeXparent=0,0,relatorio.tex}
                      
\chapter{Embassamento teórico}\label{CapExperimentos}

% Resumo opcional. Comentar se não usar.
%\resumodocapitulo{Resumo opcional.}
\section{Introdução}

Este capítulo é destinado a explicação detalhada dos conceitos teóricos que embassam as práticas propostas no capítulo \ref{CapDesenvolvimento} deste trabalho.
\section{Embassamento teórico - Circuitos eletrônicos, Hardware}
\label{EmbassamentoHarware}

Nesta seção são tratados todos conceitos relativos a circuitos eletrônicos e hardwares que embassam as práticas propostas na seção \ref{CapExperimentos}.


\subsection{Resistor}
\label{EmbassamentoHarware_Resistor}

Num circuito elétrico, chama-se por resistor o elemento que oferece \textit{resistência} a passagem de corrente elétrica entre seus terminais. 

Resistores são elementos \textit{passivos} num circuito eletrônico. Isso significa que eles são apenas consumidores de energia. 	

Com o uso de resistores e suas ligações (subseções \ref{ligacaoSerie} e \ref{ligacaoParalelo}) , é possível controlar as correntes e tensões num circuito de forma a : limitar seus valores, ajustar nível de sinais, polarizar elementos ativos, entre outras diversas aplicações.

Tais funcionalidades do resistor estão sempre associadas à \textit{Lei de Ohm}, descrita com mais detalhes na seção \ref{leiOhm}.

A Figura \ref{resistor1} mostra um exemplo de resistor utilizado em circuitos eletrônicos. 

Há vários tipos de resistores fabricados de diversas maneiras e, como dito, para as mais diversas aplicações. O resistor mostrado na Figura \ref{resistor1} é chamado de resistor de valor fixo e geralmente é utilizado para prototipagem de circuitos eletrônicos. 

Resistores de valor fixo são geralmente fabricados utilizando carbono, metal, ou películas de óxidos metálicos. 

\begin{figure}[h]
	\centering
	\includegraphics[width=0.5\textwidth]{figs/resistor1.jpg}
	\caption{Exemplo de resistor utilizado em circuitos eletrônicos.}
	\label{resistor1}
\end{figure}

A simbologia para resitores num circuito elétrico é também extensa. A Figura \ref{resistor2} mostra todos os tipos de simbologia utilizado para várias aplicações.

\begin{figure}[h]
	\centering
	\includegraphics[width=0.6\textwidth]{figs/resistor2.png}
	\caption{Simbolos de resistor utilizado em circuitos eletrônicos.}
	\label{resistor2}
	\source{www.vegyelgep.bme.hu}
\end{figure}

\begin{figure}[h]
	\centering
	\includegraphics[width=0.5\textwidth]{figs/resistor3.jpg}
	\caption{Como ler o códido de cores de um resistor.}
	\label{resistor3}
	\source{http://education.rec.ri.cmu.edu/content/electronics/common/resistors/1.html}
\end{figure}

Resistores de valor fixo, como o mostrado na Figura \ref{resistor3}, tem como resistência a seguinte expressão: 	

\begin{equation}\label{eqResistenciaTabela}
R = (Digito_{1} + 10*Digito_{2})*Multiplicador \pm Tolerancia \% 
\end{equation}

Os valores \textit{$Digito_{1}$ , $Digito_{2}$, Multiplicador e Tolerência} são mostrados na Tabela \ref{tabCores} para cada cor utilizada no código.
% Please add the following required packages to your document preamble:
% \usepackage[table,xcdraw]{xcolor}
% If you use beamer only pass "xcolor=table" option, i.e. \documentclass[xcolor=table]{beamer}
\begin{table}[]
	\centering
	\caption{Tabela de leitura de valor e tolerância de um resistor}
	\label{tabCores}
	\begin{tabular}{|c|c|c|l|c|}
		\hline
		Cor                             & Multiplicador                 & Dígito 1                 & Digito 2                 & {\color[HTML]{333333} Tolerância} \\ \hline
		\rowcolor[HTML]{000000} 
		{\color[HTML]{FFFFFF} Preto}    & {\color[HTML]{FFFFFF} $10^0$} & {\color[HTML]{FFFFFF} 0} & {\color[HTML]{FFFFFF} 0} & {\color[HTML]{333333} }           \\ \hline
		\rowcolor[HTML]{643403} 
		{\color[HTML]{FFFFFF} Marrom}   & {\color[HTML]{FFFFFF} $10^1$} & {\color[HTML]{FFFFFF} 1} & {\color[HTML]{FFFFFF} 1} & {\color[HTML]{FFFFFF} $\pm1\%$}   \\ \hline
		\rowcolor[HTML]{FE0000} 
		{\color[HTML]{FFFFFF} Vermelho} & {\color[HTML]{FFFFFF} $10^2$} & {\color[HTML]{FFFFFF} 2} & {\color[HTML]{FFFFFF} 2} & {\color[HTML]{FFFFFF} $\pm2\%$}   \\ \hline
		\rowcolor[HTML]{F56B00} 
		Laranja                         & $10^3$                        & 3                        & 3                        & {\color[HTML]{333333} }           \\ \hline
		\rowcolor[HTML]{FCFF2F} 
		{\color[HTML]{000000} Amarelo}  & {\color[HTML]{000000} $10^4$} & 4                        & 4                        & {\color[HTML]{333333} }           \\ \hline
		\rowcolor[HTML]{34FF34} 
		{\color[HTML]{FFFFFF} Verde}    & {\color[HTML]{FFFFFF} $10^5$} & 5                        & 5                        & {\color[HTML]{333333} }           \\ \hline
		\rowcolor[HTML]{3531FF} 
		{\color[HTML]{FFFFFF} Azul}     & {\color[HTML]{FFFFFF} $10^6$} & 6                        & 6                        & {\color[HTML]{333333} }           \\ \hline
		\rowcolor[HTML]{6200C9} 
		{\color[HTML]{FFFFFF} Violeta}  & {\color[HTML]{FFFFFF} $10^7$} & 7                        & 7                        & {\color[HTML]{333333} }           \\ \hline
		\rowcolor[HTML]{C0C0C0} 
		{\color[HTML]{FFFFFF} Cinza}    & {\color[HTML]{FFFFFF} $10^8$} & 8                        & 8                        & {\color[HTML]{333333} }           \\ \hline
		Branco                          & $10^9$                        & 9                        & 9                        & {\color[HTML]{333333} }           \\ \hline
		\rowcolor[HTML]{FFCB2F} 
		Ouro                            &                               &                          &                          & {\color[HTML]{333333} $\pm5\%$}   \\ \hline
		\rowcolor[HTML]{C0C0C0} 
		Prata                           &                               &                          &                          & {\color[HTML]{333333} $\pm10\%$}  \\ \hline
	\end{tabular}
\end{table}

Cada resistor tem um limite que corrente que pode circular entre seus terminais. Geralmente esse limite é dado em relação à potência dissipada. Para saber qual potência será dissipada num resistor com resistência de valor \textit{R Ohms} deve-se aplicar a seguinte fórmula:

\begin{equation}\label{eqPotencia}
\begin{split}
P = IU \text{(Potência dissipada num resistor de valor R)}
\end{split}
\end{equation}

Onde \textit{P} é a potência dissipada em \textit{Watts}, I é a corrente elétrica que passa no resistor em \textit{Ampéres} e \textit{U} é a tensão elétrica entre os terminais do resistor em \textit{Volts}.


 


\subsection{Circuito - fórmulas e topologias básicas}
\label{EmbassamentoHardware_circuito}

Nomea-se por circuito elétrico, um caminho fechado entre dois ou mais pontos formado por componentes eletrônicos no qual corrente elétrica pode circular. A Figura \ref{circuito1} mostra um circuito elétrico simples formado por uma bateria que fornece uma diferença de potencial (Tensão) entre seus terminais de valor \textit{\textbf{V} Volts} e um resistor com valor de resistência \textbf{\textit{R} Ohms}. 

Os pontos A e B da figura mostram, respectivamente, o ponto de maior potencial elétrico ( + da bateria) e o ponto de menor potencial elétrico (- da bateria).

 Para descrever o comportamento a dinâmica de tensões, correntes existem as seguintes leis:

\begin{itemize}
	\item Primeira lei de Kirchoff - Leis das Malhas
	\item Segunda lei de Kirchoff - Leis dos Nós
	\item Lei de Ohm
\end{itemize}

E para descrever a topologia dos circuitos, existem duas ligações básicas entre componentes a serem tradadas neste documento:

\begin{itemize}
	\item Ligação Série
	\item Ligação Paralelo
\end{itemize}


\begin{figure}[h]
	\centering
	\includegraphics[width=0.5\textwidth]{figs/circuito1.png}
	\caption{Circuito Simples.}
	\label{circuito1}
\end{figure}

\subsubsection{Primeira lei de Kirchoff - Leis das Nós}
\label{lei1Kirchoff}
A primeira lei de Kirchoff diz que a soma da correntes elétricas que entram num nó $I_{entram} $é igual a soma das correntes que saem, $ I_{saem}$, ou seja:
\begin{equation}\label{eqKirchoof1}
\sum I_{entram} = \sum I_{saem}
\end{equation}

Usando a Figura \ref{circuito3} como exemplo, a primeira, nesse caso, é escrita da seguinte forma:

\begin{equation}\label{eqKirchoof11}
 I_{1} + I_{3} = I_{2} + I_{4} + I_{5}
\end{equation}

\begin{figure}[h]
	\centering
	\includegraphics[width=0.5\textwidth]{figs/circuito3.jpg}
	\caption{Primeira Lei de Kirchoff.}
	\label{circuito3}
\end{figure}


\subsubsection{Segunda lei de Kirchoff - Leis das Malhas}
\label{lei2Kirchoff}
A segunda lei de Kirchoff diz que a soma das tensões $u_{i}$ num caminho fechado, num circuito elétrico é igual a zero, ou seja:

\begin{equation}\label{eqKirchoof2}
\sum u_{i} = 0
\end{equation}

Usando a Figura \ref{circuito2} como exemplo, onde as tensão em cada componentes são descritas pela letra \textbf{\textit{u}} ,a primeira lei Kirchoff é escrita na seguinte forma

\begin{figure}[h]
	\centering
	\includegraphics[width=0.5\textwidth]{figs/circuito2.png}
	\caption{Segunda Lei Kirchhoff.}
	\label{circuito2}
\end{figure}

\begin{equation}\label{eqKirchoof22}
\begin{split}
u - u_{1} - u_{2} = 0 \\
u = u_{1} + u_{2}
\end{split}
\end{equation}


\subsubsection{Lei de Ohm}
\label{leiOhm}

A lei de Ohm\cite{livro:Sedra} diz que num circuito fechado, sob um componente eletrônico que com valor resistência \textit{R} que esteja submetido a uma diferença de potencial entre seus terminais de valor \textit{V}, circulará uma corrente elétrica de \textit{I} segundo a seguinte fórmula:
\begin{equation}
I = \frac{V}{R}
\end{equation}

Essa expressão não depende da natureza de tal condutor: ela é válida para todos os condutores. Para um dispositivo condutor que obedeça à lei de Ohm, a diferença de potencial aplicada é proporcional à corrente elétrica, isto é, a resistência é independente da diferença de potencial e da corrente. Um dispositivo muito utilizado em aparelhos eletrônicos, como rádios, televisores e amplificadores, que obedece à essa lei é o resistor (componente descrito mais detalhadamente na seção \ref{Embassamento_resitor}) cuja função é controlar a intensidade de corrente elétrica que passa pelo aparelho.

Entretanto, para alguns materiais, por exemplo os semicondutores, a resistência elétrica não é constante, mesmo que a temperatura seja, ela depende da diferença de potencial V. Estes são denominados condutores não ôhmicos. Um exemplo de componente eletrônico que não obedece à lei de Ohm é o diodo(componente descrito mais detalhadamente na seção \ref{Embassamento_LED}).

\subsubsection{Ligação em Série}
\label{ligacaoSerie}
Quando dois ou mais componentes estão conectados num circuito, um após ao outro, diz que tais componentes estão conectados em série, como mostrado em \ref{circuito4}. 


\begin{figure}[h]
	\centering
	\includegraphics[width=0.5\textwidth]{figs/circuito4.png}
	\caption{Ligação em série de n resistores.}
	\label{circuito4}
\end{figure}

Para elementos que se encontram em série, a mesma corrente \textit{I} os percorre, como mostrado na Figura \ref{circuito5}.

\begin{figure}[h]
	\centering
	\includegraphics[width=0.5\textwidth]{figs/circuito5.png}
	\caption{Mesma corrente percorrendo resistores em série.}
	\label{circuito5}
\end{figure}

Aplicando a segunda lei de Kirchoff, apresentada na seção \ref{lei2Kirchoff}, e a lei de Ohm, apresentada na seção \ref{leiOhm}, tem-se a seguinte sequência de expressões para a demonstração da resistência equivalente de resistores em série: 


\begin{equation}\label{eqSerie1}
\begin{split}
V_{+} - V_{-} = V_{R1} + V_{R2} + ... V_{Rn}   \quad \text{(Aplicando a lei de Kirchoff das malhas)}
\end{split}
\end{equation}


\begin{equation}\label{eqSerie2}
\begin{split}
I*R_{eq} = I*(R1 + R2 + ... Rn )   \quad \text{( Aplicando a Lei de Ohm)}
\end{split}
\end{equation}


\begin{equation}\label{eqSerie3}
\begin{split}
R_{eq} = (R1 + R2 + ... Rn )   \quad \text{( Fórmula de resistor equivalente - ligação série)}
\end{split}
\end{equation}

A resistência equivalente de uma ligação em série de resistores pode ser vista como a "resistência enxergada" pela fonte de diferença de potencial entre os pontos V+ e V- mostrados na Figura \ref{circuito5}.



\subsubsection{Ligação em Paralelo}
\label{ligacaoParalelo}
Numa conexão em paralelo, os componentes se encontram conectados com seus terminais conectados em comum e possuem sobre eles a mesma tensão elétrica, como mostrado na Figura \ref{circuito6}.

A primeira lei de Kirchoff, como mostrado na seção \ref{lei1Kirchoff}, mostra que a soma das correntes que entram num nó é igual a soma das correntes que por ele saem. 

Na Figura \ref{circuito6}, os resistores $R_{1}$, $R_{2}$,...$R_{n}$ encontram em paralelo. A soma das correntes que entram no nó A e igual a soma das correntes que dele saem, ou seja: 

\begin{equation}\label{eqParalelo1}
\begin{split}
I = I_{1} + I_{2} + ... +I_{n}  \quad \text{(Primeira Lei de Kirchoff)}
\end{split}
\end{equation}

Utilizando a Lei de Ohm e sabendo que, numa ligação em paralelo, todos elementos encontram-se sob a mesma Tensão elétrica, tem-se que:

\begin{equation}\label{eqParalelo2}
\begin{split}
\frac{V_{in}}{R_{eq}} = \frac{V_{in}}{R_{1}} + \frac{V_{in}}{R_{2}} + ... \frac{V_{in}}{R_{n}}  \quad \text{(Lei de Ohm aplicada à ligação em paralelo)}
\end{split}
\end{equation}

Disso, tem -se que:

\begin{equation}\label{eqSerie3}
\begin{split}
\frac{1}{R_{eq}} = \frac{1}{R_{1}} + \frac{1}{R_{2}} + ... \frac{1}{R_{n}}  \quad \text{( Fórmula de resistor equivalente - ligação paralelo)}
\end{split}
\end{equation}


\begin{figure}[h]
	\centering
	\includegraphics[width=0.5\textwidth]{figs/circuito6.png}
	\caption{Componentes conectados em paralelo.}
	\label{circuito6}
\end{figure}

\subsubsection{Resumo - Ligação em série X paralelo}
\label{ResumoSerieEParalelo}

A tabela mostrada em \ref{tabResumoSerieParaleo} o resumo das característica da ligação em série e da ligação em paralelo entre resistores:

\begin{table}[]
	\centering
	\caption{Resumo - Ligação em série X Ligação em paralelo}
	\label{tabResumoSerieParaleo}
	\begin{tabular}{l|l|l|l|}
		\cline{2-4}
		& \textbf{\begin{tabular}[c]{@{}l@{}}Tensão elétrica\\  nos elementos\end{tabular}} & \textbf{\begin{tabular}[c]{@{}l@{}}Corrente elétrica \\ pelos elementos\end{tabular}} & \textbf{\begin{tabular}[c]{@{}l@{}}Resistência Equivalente entre\\ N elementos conectados\end{tabular}} \\ \hline
		\multicolumn{1}{|l|}{\textbf{Ligação em Série}}    & Diferente                                                                         & Igual                                                                                 & $R_{eq} = R_{1} + R_{2} + ... + R_{n}$                                                                  \\ \hline
		\multicolumn{1}{|l|}{\textbf{Ligação em Paralelo}} & Igual                                                                             & Diferente                                                                             & $\frac{1}{R_{eq}} = \frac{1}{R_{1}} + \frac{1}{R_{2}} + ... \frac{1}{R_{n}}$                            \\ \hline
	\end{tabular}
\end{table}


\subsection{Diodo-LED}
\label{EmbassamentoHardware_LED}


Um \textbf{Diodo Emissor de Luz} (LED) é um dispositivo semicondutor o qual, ao passar de corrente elétrica do seu \textit{Ánodo} para seu \textit{Cátodo} emite luz. A Figura \ref{LED1} mostra o símbolo de um LED.

Como todo diodo, o LED bloqueia a passagem de corrente elétrica na direção do seu cátodo ao seu ánodo e permite a passagem de corrente na direção contrária.

Como mostrado na Figira \ref{LED0}, diodo são construídos com duas junções de semicondutores dopados: uma junção N e uma junção P. A junção P possui falta de portadores negativos, ou seja, está positivamente dopado. A junção N possui excesso de portadores negativos, ou seja, está negativamente dopada. 

A dinâmica dos portadores entre as junções N - P criem o comportamento de bloqueio e liberação da passagem de corrente no diodo. 

Para um diodo com tensão positiva entre ánodo e cátodo, existe uma região chamada região de depleção a qual deve ser superada para que exista fluxo de corrente, ainda que o diodo esteja positivamente polarizado, como mostrado também no gráfico da Figura \ref{LED2}.

\begin{figure}[H]
	\centering
	\includegraphics[width= 1\textwidth]{figs/LED0.png}
	\caption{Junção N-P em um diodo.}
	\label{LED0}
\end{figure}


\begin{figure}[H]
	\centering
	\includegraphics[width=0.5\textwidth]{figs/diodo1.png}
	\caption{Símbolo Diodo}
	\label{LED1}
\end{figure}

A  Figura \ref{LED2} mostra a relação entre tensão aplicada entre o ánodo e o cátodo e a corrente que atravessa um diodo. Quando a diferença de tensão entre ânodo e cátodo é positiva, o diodo se encontra sob polarização direta. Nessa polarização, o diodo permite passagem de corrente entre seus terminais. A fórmula que expressa essa relação é a seguinte:


\begin{equation}\label{eqDiodo1}
\begin{split}
i_{D} = I_{s}(e^{v_{d}/nkT} - 1) 
\end{split}
\end{equation}

Onde $i_{D}$ é a corrente se passar pelo diodo, $v_{D}$ é a tensão entre ânodo e cátodo, T é a temperatura, k é a constante de Boltzmann, N é o coeficiente de não linearidade e $I_{s}$ é a corrente de saturação.

Como mostrado na Figura \ref{LED2}, quando em polarização reversa, o diodo não permite passagem de corrente com intensidade apreciável. 

Caso a diferença de tensão entre cátodo e ânodo seja maior que a tensão de quebra $V_{br}$, o diodo entrará na região de quebra e não mais bloqueará a passagem de corrente.


\begin{figure}[H]
	\centering
	\includegraphics[width=1\textwidth]{figs/LED2.png}
	\caption{Relação tensão, corrente num diodo e suas regiões de operação}
	\label{LED2}
	\source{$http://www2.feg.unesp.br/Home/PaginasPessoais/ProfMarceloWendling/2---diodo-semicondutor.pdf$}
\end{figure}

Para aplicações simples em eletrônica, usualmente se adota um modelo simplificado para a operação do diodo mostrado na Figura \ref{LED3}. 

Nesse modelo, para uma polarização direta, o diodo é substituído por um diodo ideal (sem queda de tensão) com uma bateria em série com valor de tensão de 0.7 a 0.6 de tensão significando a queda de tensão entre os terminais do diodo. 

\begin{figure}[H]
	\centering
	\includegraphics[width=1\textwidth]{figs/LED3.jpg}
	\caption{Modelo simplificado de um diodo em polarização direta.}
	\label{LED3}
	\source{https://digitalsignal.files.wordpress.com/2008/09/aula05.pdf}
\end{figure}

Diodo são utilizados em várias aplicações em eletrônica. Alguns exemplo de aplicações seriam:

\begin{itemize}
	\item Retificação de tensão (Transformação de um sinal AC (Corrente Alternada) para DC (Corrente Contínua))
	\item Isolamento de sinais de fonte de potência
	\item Referência de voltagem
	\item Controle e limitação da amplitude de sinais
	\item Detecção de sinais
\end{itemize}

\subsection{Protoboard}
\label{EmbassamentoHardware_Protoboard}

Protoboard ou \textit{BreadBoard} é um componente essencial na prototipação de circuitos eletrônicos. Com uma protoboard, é possível criar circuitos temporários, sem necessidade de realizar soldagem. 

As protoboards foram criadas para simplificar a prototipação e testes de circuitos eletrônicos anteriormente a sua efetiva produção por meio em máquinas de circuitos impress
Em geral, as protoboards apresentam a estrutura mostrada na Figura \ref{protoboard1}. As trilhas verticais + e - marcadas na Figura são trilhas contínuas de alumínio. Usualmente, mas não obrigatoriamente, as trilhas + e - são usadas como para os polos positivo e negativo da bateria. A região central, com as trilhas na horizontal, geramente é utilizada para a construção do circuito desejado.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.5\textwidth]{figs/protoboard1.jpg}
	\caption{Protoboard.}
	\label{protoboard1}
	\source{https://learn.sparkfun.com/tutorials/how-to-use-a-breadboard}
\end{figure}

A Figura \ref{protoboard3} mostra o esquemático de circuito simples formado por uma fonte de 9V, uma resistor de 1k ohm e um LED e sua construção numa protoboard.

Na parte direita da Figura \ref{protoboard3}, é mostrado os polos positivo e negativos da bateria de 9V conectado à trilha contínua e a região central foi usada para conectar tais polos ao LED e resistor em série. Além disso, a parte direita da Figura mostra o sentido convencional da corrente elétrica. 

\begin{figure}[H]
	\centering
	\includegraphics[width=1\textwidth]{figs/protoboard3.jpg}
	\caption{Esquemático de um circuito e sua construção numa protoboard.}
	\label{protoboard3}
\end{figure}




\subsection{Divisor de tensão}
\label{EmbassamentoHardware_DivisorTesao}

Em eletrônica, chama-se divisor de tensão um circuito com estrutura similar ao mostrada na Figura \ref{divisorTensao1}.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.5\textwidth]{figs/divisor1.png}
	\caption{Modelo de um circuito divisor de tensão}
	\label{divisorTensao1}
\end{figure}

Pela segunda lei de Kirchoff (seção \ref{lei2Kirchoff}) tem-se a seguinte expressão:

\begin{equation}\label{eqDivisorTensao1}
\begin{split}
V_{in} - V_{R1} - V_{R2} = 0
\end{split}
\end{equation}



A corrente que circulará nesse circuito é igual a: 

\begin{equation}\label{eqDivisorTensao2}
\begin{split}
I = \frac{V_{in}}{(R1 + R2)}
\end{split}
\end{equation}

Calculando o valor da tensão de saída, tem-se:

\begin{equation}\label{eqDivisorTensao3}
\begin{split}
V_{out} = V_{in} - I*R1
\end{split}
\end{equation}

Portanto, a tensão de saída será igual a:


\begin{equation}\label{eqDivisorTensao4}
\begin{split}
V_{out} = \frac{R2}{R1 + R2} * V_{in} 
\end{split}
\end{equation}


O fator $\frac{R2}{R1 + R2}$ é o fator da divisão de tensão, no circuito exemplificado pela Figura \ref{divisorTensao1}.

Divisores de tensão tem várias aplicações em eletrônica, dentre elas, destacam-se as seguintes:

\begin{itemize}
	\item \textbf{Medição de sensores}: Um divisor de tensão pode ser usado como forma de medição para sensores resistivos ( Sensores que alteram sua resistência de acordo com o fator de sensitividade). 
	
	\item \textbf{Medição de altas tensões}: Um divisor de tensão pode ser usado para utilizar voltímetros para tensões além de sua respectivas escala de medição.
	
	\item \textbf{Mudança de escala de sinais}: Um divisor de tensão pode ser usado para adeguar a escala de um sinal para sinais que podem ser lidos e processados por um microprocessador em suas faixa operação própria.

\end{itemize}

\subsection{Potenciômetro}
\label{EmbassamentoHardware_Potenciometro}
Um potenciômetro é um componente de circuitos elétricos que possui resistência elétrica ajustável mecanicamente. Num esquemático de um circuito, o símbolo usado para potenciômetro é mostrado na Figura \ref{potenciometro1}.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.5\textwidth]{figs/potenciometro1.png}
	\caption{Símbolo de um potenciômetro.}
	\label{potenciometro1}
\end{figure}

Potenciômetros são muito usados para controlar / alterar as características de entrada / saída de aparelhos eletrônicos, como volume, balanço, graves, brilho, contraste, cor, tempo de funcionamento (em tv's, dvd's, monitores, relógios, ... ).São também conhecidos como resistores variáveis, ou ainda, reostatos.

Para criar tal característica de variação de resistência, os potênciometros possuem internamente uma trilha resistiva (de níquel-cromo ou de carbono), sobre a qual desliza um  cursor , que altera a resistência elétrica entre seu conector central e um dos dois laterais(normalmente são três conectores).

Os potenciômetros podem ser classificados em duas categorias: quanto a forma de deslocamento do curso e quanto a forma de variação da resistências entre seus terminais.

Em relação a forma de deslizamento do curso, os potenciômetros podem ser angulares, Figura \ref{potenciometro2}, e lineares, Figura \ref{potenciometro4}.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.5\textwidth]{figs/potenciometro2.png}
	\caption{Estrutura de um potenciômetro angular.}
	\label{potenciometro2}
\end{figure}


\begin{figure}[H]
	\centering
	\includegraphics[width=0.5\textwidth]{figs/potenciometro4.jpg}
	\caption{Potenciômetro linear.}
	\label{potenciometro4}
\end{figure}

Em relação a a forma de variação da resistência entre seus terminais, os potênciometros podem ter variação linear ou variação logarítimica. A Figura \ref{potenciometro5} mostra tais formas de variação.


\begin{figure}[H]
	\centering
	\includegraphics[width=0.5\textwidth]{figs/potenciometro5.jpg}
	\caption{Formas de variação da resistência em um potênciometro.}
	\label{potenciometro5}
\end{figure}

Assumindo que a resistência entreos terminais externos do potêncioemtro da Figura \ref{potenciometro3} é fixa e igual a 10 k ohms tem-se as seguintes formas de uso dos terminais:

\begin{itemize}
	\item \textbf{Ponteciômetro 1}: está com os terminais 1 e 2 ligados, neste caso ele varia sua resistência entre 0 ohm e 10 k ohms, nessa ligação quando o eixo é girado para a esquerda ele diminui a sua resistência e quando ele é girado  para a direita aumenta a sua resistência.
	\item \textbf{Ponteciômetro 2}: Nesse caso,os terminais 2 e 3 encontram-se ligados, ele varia sua resistência entre 0 ohm e 10 k ohms, nessa ligação quando o eixo é girado para a esquerda ele aumenta a sua resistência e quando é girado para a direita diminui a sua resistência.
	\item \textbf{Ponteciômetro 3}: a resistência é fixa, no caso 10 k ohms. Girar o curso não alterará a resistência observada.
	 
\end{itemize}



\begin{figure}[H]
	\centering
	\includegraphics[width=0.5\textwidth]{figs/potenciometro3.png}
	\caption{Formas de uso de um potênciometro angular. }
	\label{potenciometro3}
\end{figure}



\subsection{LDR}
\label{EmbassamentoHardware_LDR}

Um foto-resistor ou LDR (Light Dependent Resistor) é um resistor cuja resitência é dependente da luz que incide sobre ele. A Figura \ref{ldr1} mostra um LDR simples, muito utilizado em circuitos eletrônicos e a Figura \ref{ldr2} mostra a símbolo para o LDR usado em esquemáticos.  

Resistores dependentes de luz podem ser de diferentes tipos. Eles variam em material sensível à luz usada. Um resistor dependente da luz no espectro visívelé feita através de sulfureto de cádmio (CdS) ou seleneto de cádmio (CdSe). Este material é sensível ao comprimento de onda de 400 nm - 850 nm. Por perto faixa do infravermelho (1 \si\micro m - 3 \si\micro m), existem PBS ou materiais PBSE usado. 


\begin{figure}[H]
	\centering
	\includegraphics[width=0.5\textwidth]{figs/ldr1.png}
	\caption{LDR}
	\label{ldr1}
\end{figure}


\begin{figure}[H]
	\centering
	\includegraphics[width=0.4\textwidth]{figs/ldr3.jpg}
	\caption{Símbolo do LDR}
	\source{www.electrical4u.com}
	\label{ldr2}
\end{figure}

Um LDR pode de dezenas de Megaohms (Escuro) para algumas centenas de ohms (claro) dependendo da intensidade da luz incidente, como mostrado no gráfico da Figura \ref{ldr3}.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.5\textwidth]{figs/ldr2.jpg}
	\caption{Gráfico LDR : Resistência X Luminância}
	\source{www.electrical4u.com}
	\label{ldr3}
\end{figure}


Como dito na seção \ref{EmbassamentoHardware_DivisorTesao}, um divisor de tensão pode ser usado em conjunto com sensores resistivos como o LDR. A Figura \ref{ldr4} mostra um sensor de luz implementado com um circuito formado por uma fonte DC, um resistor fixo de 10k ohms e um LDR.


\begin{figure}[H]
	\centering
	\includegraphics[width=0.5\textwidth]{figs/ldr4.jpg}
	\caption{Possível circuito a ser utilizado num sensor de luz}
	\label{ldr4}
\end{figure}

 A tensão de saída \textit{Vout} é dada segundo a seguinte expressão: 
 
 \begin{equation}\label{eqLDR}
 \begin{split}
 V_{out} = \frac{10k}{10k + R_{LDR}} * 5 
 \end{split}
 \end{equation}
 
 Onde $R_{LDR}$ obedeceao gráfico mostrado na Figura \ref{ldr3}.

\section{Embassamento teórico - Software}
\label{EmbassamentoSoftware}

Nesta seção são tratados todos conceitos relativos a programação que  embassam as práticas propostas na seção \ref{CapExperimentos}.

\subsection{Programação estruturada}
\label{EmbassamentoSoftware_ProgramaçãoEstruturada}

Programação estruturada é um paradigma de programação cujo objetivo é claridade do código, qualidade e tempo de desenvolvimento de software e tempo de execução de algoritmo. 

Para alcançar tais objetivos, linguagens de programação que se baseiam no paradigma de programação estruturada possuem as seguintes características:

\begin{itemize}
	\item \textbf{Sequência} bem definida de passos a serem seguidos utilizando:
		\subitem Condicionais
		\subitem Loops
		\subitem Chamadas a funções iterativas e recursivas
	\item \textbf{Modularização} do código, em:
		\subitem Funções.
		\subitem Estruturas de dados.
		\subitem Uso de bibliotecas.
\end{itemize}

Para se resolver um determinado problema sob o paradigma de programação estruturada, deve-se subdividir tal problema em problemas menores.

A solução final é a junção sequencial e lógica dos problemas menores. 

A subdivisão proposta pelo paradigma estruturado oferece as seguintes vantagens:

\begin{itemize}
	\item Cada parte menor tem um código mais simples
	\item Facilidade de entendimento do código, uma vez que os subprogramas podem ser analisados como partes independentes (legibilidade)
	\item Códigos menores são mais facilmente modificáveis para satisfazer novos requisitos do usuário e para correção de erros (manutenibilidade)
	\item Simplificação da documentação de sistemas
	\item Desenvolvimento de software por equipes de programadore 
	\item Reutilização de subprogramas através de bibliotecas de subprogramas, na linguagem C, sob a forma dos arquivos de cabeçalhos (.h)
\end{itemize}



\subsection{Programação para Arduino}
\label{EmbassamentoSoftware_Arduino}
Nesta sub-seção são explicados os conceitos relevantes para as práticas propostas na seção \ref{CapDesenvolvimento}.

\subsubsection{Padrão de programação em Arduíno}
\label{EmbassamentoSoftware_Arduino_Padrao}
Todo programa escrito para Arduíno deve ter, obrigatoriamente, duas funções: função \textbf{setup} e a função \textbf{loop}.

A função setup é a primeira a ser executada pela plataforma programada em Arduino. Em geral, essa função serve para realizar configurações e definições iniciais.

A função loop é executa após a setup ser executada. A função loop será repetida indenfinidamente, até a placa Galileo ser desligada ou o botão \textit{reset} ser apertado. Caso o botão reset seja apertado, a execução do programa volta a seu inicío.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.7\textwidth]{figs/Arduino13.jpeg}
	\caption{Fluxograma de um programa escrito para Arduino.}
	\label{Arduino13}
\end{figure}

O fluxo comum de um programa escrito para Arduino é mostra na Figura \ref{Arduino13}. Quanto ao botão reset, a Figura \ref{Arduino13} é simplificada. O botão reset pode ser apetado a qualquer momento. Ao ser apertado, o botão, é ativado uma \textit{interrupção de hardware} a qual faz com que a execução do programa volte ao ínicio.  

\subsection{Uso de portas digitais}
\label{EmbassamentoSoftware_Arduino_UsoPortasDigitais}
Diz-se por porta digital, um pino, de entrada ou saída de tensão, que por ele podem ser lidos ou escritos apenas 0 ou 1 lógicos.

Para uma placa Galileo, 0 lógico é identificado como 0 Volts(GND) e 1 lógico é identificado como 3.3 ou 5 Volts entrando ou saindo da porta digital selecionada. 

Seleciona-se 3.3 ou 5 Volts como valor de referência de tensão com o pino \textit{\textbf{IOREF}}. 

Deve-se tomar cuidado ao utilizar uma porta digital como entrada(\textit{input}). Caso a tensão aplicada à porta for maior que a tensão selecionada em \textit\textbf{{IOREF}}, pode-se inutilizar a porta.

Para se utilizar uma porta digital, deve-se seleciona-lá na função setup. No código mostrado em \ref{EmbassamentoSoftware_prog1}, mostra-se a seleção da porta digital 13 como saída (OUTPUT) de tensão.

\begin{lstlisting}[ caption = Selecionando a porta digital 13 para saída de tensão, label=EmbassamentoSoftware_prog1,]

void setup() {
// Seleciona a porta digital 13 como saida de tensao
pinMode(13, OUTPUT);

}
\end{lstlisting}

Para selecionar uma porta digital como porta de entrada de tensão, deve-se usar o comando \textit{pinMode(NumeroPorta, INPUT);}. 

O exemplo a seguir, código \ref{EmbassamentoSoftware_prog2} mostra a porta digital 13 sendo selecionada para entrada de tensão: 

\begin{lstlisting}[ caption = Selecionando a porta digital 13 para entrada de tensão, label=EmbassamentoSoftware_prog2,]

void setup() {
// Seleciona a porta digital 13 como entrada de tensao
pinMode(13, INPUT);

}
\end{lstlisting}

Com relação a porta digital 13, deve-ser apontado que nela já está conectado, automaticamente, um resistor de 13kOhms. Dessa forma, por nela pode ser diretamente ligado um LED, sem correr o risco de queimá-lo.

\subsection{Processo de Compilação}
\label{EmbassamentoSoftware_Compilacao}

Todo programa de computador, escrito em passa de uma tradução de uma linguagem compreensível por um ser humano para uma linguagem compreensível para um sistema computacional, ou seja, uma série de bits.

A Figura \ref{compilacao1} mostra os passos realizados nesse processo. Para fins deste trabalho e desta seção será focado apenas nos passos pré-compilação e nos passos de análise léxica, sintática e semântica de um código. 

\begin{figure}[H]
	\centering
	\includegraphics[width=0.2\textwidth]{figs/compilador1.png}
	\caption{Fluxograma de um programa escrito para Arduino.}
	\label{compilacao1}
\end{figure}

As etapas a serem tratadas nesta seção são, portanto, os seguintes, como mostrado na Figura \ref{compilacao2} :

\begin{enumerate}
	\item Pré-processamento
	\item Análise Léxica
	\item Análise Sintática 
	\item Análise Semântica
\end{enumerate}

\begin{figure}[H]
	\centering
	\includegraphics[width=0.5\textwidth]{figs/compilador3.jpg}
	\caption{Etapas de interesse para a disciplina \textit{Algoritmos e Programação de computadores}}
	\label{compilacao2}
\end{figure}


\subsubsection{Pré-processamento}
\label{preProcessamento}
Na etapa de pré-processamento, as diretivas de compilação são resolvidas como mostrado no exemplo da Figura \ref{compilacao4}. Tudo aquilo que foi definido usando a diretiva \textbf{\#define} é substituído, no texto do código fonte, por aquilo que definido no \#define.

\begin{figure}[H]
	\centering
	\includegraphics[width=1\textwidth]{figs/compilador4.jpg}
	\caption{Exemplo do processo de pré-processamento}
	\label{compilacao4}
\end{figure}

Além disso, no pré-processamento são removidos comentários e também substituídos no código fonte as macros definidas, como mostrado na Figura \ref{compilacao5}.

\begin{figure}[H]
	\centering
	\includegraphics[width=1\textwidth]{figs/compilador5.jpg}
	\caption{Exemplo de substituição de macro no pré-processamento.}
	\label{compilacao5}
\end{figure}



\subsubsection{Análise Léxica}

Após a fase de pré-processamento, o compilador realiza a análise léxica do código fonte. 

A análise léxica é feita por módulo chamado \textit{analisador léxico} ou scanner. Nessa fase, o programa é lido da esquerda para a direita agrupando so caracteres de maneira a forma \textit{tokens}. Os tokens são sequências de caracteres que em conjunto possuem um significado, como palavras numa linguagem humana. 

Na análise léxica, cada \textit{token} identificado é analisado de acordo com as regras da linguagem de programação. Na linguagem de programação C, não é permitido a nenhum token ser iniciado com um número e tão pouco podem os tokens possuir caracteres especiais como \$ , \%, \#, etc. 

\subsubsection{Análise Sintática}

Após a análise léxica, onde os tokens identificados são validados, é realizada a análise sintática do código fonte.

A análise sintática resume-se na análise das expressões construídas com os tokens. Um exemplo de erro sintático é mostrado no código \ref{analiseSintatica1}. Nesse exemplo é mostrado o uso do operador $+$ feito incorretamente.

\begin{lstlisting}[ caption = Erro sintático no uso do operador +, label=analiseSintatica1,]
int numero;

numero = 1 + ; //erro sintatico, o operador + espera dois termos, mas o segundo
              // nao explicitado
\end{lstlisting}

\subsubsection{Análise Semântica}

Após a análise léxica, é feita a análise semântica. A análise semântica pode ser resumida como a "analíse do relacionamento entre todas as partes do código". O exemplo  mostra erros semânticos de referência indefinidas no código.    



\begin{lstlisting}[ caption = Erro referência indefinida, label=analiseSemantica1,]
void setup()
{
int a = funcao1(); // erro semantico, refencia indefinida a funcao1()
   
}

void loop()
{ 
int num;

num = num + k; //erro semantico, referencia indefinida a k
}

\end{lstlisting}


\subsection{Diretivas de Compilação}
\label{EmbassamentoSoftware_DireitivasCompilacao}

Como mencionado na seção \ref{EmbassamentoSoftware_Compilacao}, o processo de compilação é iniciado pelo pré-processamento. No pré-processamento, as diretivas de compilação são resolvidas.

As diretivas de compilação mais comuns são  \# include, \# define, \# ifdef, \# else e \# endif .

\begin{itemize}
	
	\item \textbf{\#include}: A diretiva \#include é utilizada para adicionar códigos fontes externos ao código fonte no qual se está trabalhando. As formas de uso da diretiva são as seguintes:
		\subitem \#include <bibliotecaDoSistema.h> : Nessa forma se adiciona uma biblioteca já nativa do sistema, como por exemplo a stdlib.h. A inclusão de tal biblioteca se daria pelo seguinte comando \#include <stdlib.h>
		
		\subitem \#include "bibliotecaDoDesenvolvedor.h" : Nessa forma se adiciona uma biblioteca já desenvolvida pelo programador ou equipe relacionada. Caso o arquivo não se encontre na mesma pasta que o programa que o está adicionando, deve ser fornecido o caminho para ele no include. Por exemplo:
		\#include "/pasta1/pasta2/bibliotecaDoDesenvolvedor.h"
	\item \textbf{\# define}: A diretiva \# define é usada para informar ao compilador quais token serão substituidos por determinadas expressões no processo de pré-processamento, como mostrado na seção \ref{preProcessamento} ou para criar tokens com o status de \textbf{defined} que influenciaram a definição de diretivas posteriores.
	
	\item \textbf{\# ifdef, \# else e \#endif}: A diretivas \# ifdef, \# else e \#endif são usadas em conjunto para realizar definições de diretivas e macros condicionalmente. Um exemplo disso é mostrado no código \ref{diretivas1}, onde o valor da diretiva \textit{constante} é definida de acordo a com definição da diretiva \textit{teste}.    	
\end{itemize}

Um uso muito comum do padrão de diretivas mostrados no código \ref{diretivas1}, é mostrado no código \ref{diretivas2}. Na primeira vez que o compilador ver o arquivo de cabeçalho \textbf{bibliotecaExemplo.h}, a diretiva  \textbf{BIBLIOTECAEXEMPLO} será definida e as funções definidas nesse arquivo passaram a ser reconhecidas pelo compilador. Após essa definição e reconhecimento de funções, não haverá mais erros de redefinição de funções (erro semântico), pois as diretivas \# ifdef  BIBLIOTECAEXEMPLO \# define BIBLIOTECAEXEMPLO  impedirão isso.


\begin{lstlisting}[ caption = Uso de diretivas condicionais, label=diretivas1,]
#define teste  // define a token teste

#ifdef teste // executa a acao dfinida dentro deste #ifdef, pois teste estah //definido
	#define constante 3 // define diretiva constante com o valor 3
#else  // nao entra nesta secao pois teste estah definifo
	#define constante 4 // // define diretiva constante com o valor 4
#endif     
\end{lstlisting}

\begin{lstlisting}[ caption = Uso de diretivas para evitar erro de compilação de repetição de inclução de arquivos, label=diretivas2,]

#ifdef  BIBLIOTECAEXEMPLO
#define BIBLIOTECAEXEMPLO  // define a token teste

void funcao1()
{
}

void funcao2()
{
}

.
.
.
void funcaoN()
{
}

#endif     
\end{lstlisting}

\subsection{Tipos básicos de variáveis}
\label{EmbassamentoSoftware_TiposVariaveis}

Variáveis são os elementos básicos que um programa manipula. Uma variável é um espaço reservado na memória do computador para armazenar um tipo de dado determinado. Variáveis devem receber nomes para poderem ser referenciadas e modificadas quando necessário. Muitas linguagens de programação exigem que os programas contenham declarações que especifiquem de que tipo são as variáveis que ele utilizará e as vezes um valor inicial. Tipos podem ser por exemplo: inteiros, reais, caracteres, etc. As expressões combinam variáveis e constantes para calcular novos valores. 

Os tipos básicos de variáveis são os seguintes:

\begin{itemize}

\item char: Caracter: O valor armazenado é um caractere. Caracateres geralmente são armazenados em códigos (usualmente o código ASCII).
\item int: Número inteiro é o tipo padrão e o tamanho do conjunto que pode ser representado normalmente depende da máquina em que o programa está rodando.
\item float: Número em ponto flutuante de precisão simples. São conhecidos normalmente como números reais.
\item double: Número em ponto flutuante de precisão dupla
\item void: Este tipo serve para indicar que um resultado não tem um tipo definido. Uma das aplicações deste tipo em C é criar um tipo vazio que pode posteriormente ser modificado para um dos tipos anteriores.

\end{itemize}

Cada um desses tipos é codificado diferentemente para cada arquitetura computacional para a qual o programa será compilado. A tabela \ref{tabVariaveis1} mostra o uso de espaço de memória normalmente empregado nas arquiteturas computacionais.

\begin{table}[H]
	\centering
	\caption{Tamanho e faixa de uso para os tipos básicos váriaveis}
	\label{tabVariaveis1}
	\begin{tabular}{|c|c|c|}
		\hline
		\textbf{Tipo}   & \textbf{Tamanho em Bytes} & \textbf{Faixa Mínima}          \\ \hline
		\textbf{char}   & 1                         & -127 a 127                     \\ \hline
		\textbf{int}    & 4                         & -2.147.483.648 a 2.147.483.647 \\ \hline
		\textbf{float}  & 4                         & Seis digitos de precisão       \\ \hline
		\textbf{double} & 8                         & Dez digitos de precisão        \\ \hline
	\end{tabular}
\end{table}

Muitas vezes, as faixas para os tipos de variáveis mostradas na tabela \ref{tabVariaveis1} não são suficientes ou adequadas para o algoritmo emd desenvolvimento. Para resolver tais problemas, podem ser utilizados \textit{modificadores} para ampliar, reduzir ou adequar a faixa de valores que a variável pode guardar no endereço de memória reservado.

Os modificadores de variáveis e seus respectivos efeitos sobre a faixa de valores de cada tipo são mostrado na tabela 

\begin{table}[H]
	\centering
	\caption{Todos os Tipos de dados definidos pelo Padrão ANSI C, seus tamanhos em bytes e suas faixa de valores.}
	\label{tabVariaveis2}
	\begin{figure}[H]
		\centering
		\includegraphics[width=1\textwidth]{figs/tabVariaveis2.jpg}
		\caption*{}
		\label*{}
	\end{figure}
	
\end{table}




\subsection{Conversão entre tipos de variáveis}
\label{EmbassamentoSoftware_ConversaoEntreVariaveis}

Conforme explicado na seções anteriores, variáveis vêm em diferentes tipos. O tipo determina o tipo de dados que uma variável pode conter. Uma variável Integer pode conter somente dados numéricos sem pontos decimais. Uma variável char pode conter somente uma letra ou símbolo contido na tabela ASCII.


Muitas vezes, faz-se necessário ou mais conveniente realizar a conversão de um tipo de variável para outro mais conveniente. Para realizar a conversão, deve-se utilizar o comando escrever, ao lado da variável que será convertida a seguinte expressão (NOVOTIPO) variável. O código  \ref{conversao1} mostra duas situações onde uma variável inteira é convertida para um char. 

Na primeira, não se perde informação, pois o conteúdo da variável \textit{num} pode ser expresso em 1 byte. Na segunda situação, no entanto, se perde informação, pois 10000 (conteúdo da variável num2) não pode ser expresso em 1 byte.

\begin{lstlisting}[ caption = Convertendo int para char, label=conversao1,]
int num = 1;//variavel ocupando 32 bits(4 bytes)

char a = (char)num; // conversao para variavel contendo 8 bits (1 byte)
                    // conversao sem perda de informacao

int num2 = 100000; 

char b = (char) num2; // conversao com perda de informacao
                      // uma variavel char so pode guardar ateh 127
\end{lstlisting}



\subsection{Leitura Analógica - Conversão Analógico/Digital}
\label{EmbassamentoSoftware_ConversaoAnalogicoDigital}

Para ler o sinal de tensão analógico num dos 6 pinos destinados a conversão Analógico/Digital deve ser utilizada a função \textit{analogRead()}. O código \ref{analogRead1} mostra um exemplo da utilização da função \textit{analogRead()}, conversão de int para float, e ajuste de escala. 

A função \textit{analogRead} tem como argumento de entrada o número do pino que será lido. O tempo de leitura é aproximadamente 100 \si\micro s. O retorno dessa função estará entre 0 e 1023, devido ao tamanho do registrador de conversão A/D mencionado na sub-seção \ref{ConversaoAD}.

Para calcular o valor da tensão no pino de entrada na faixa de 0 a 5V é necessário realizar a conversão de variável citada na seção \ref{EmbassamentoSoftware_ConversaoEntreVariaveis}.



\begin{lstlisting}[ caption = Uso da funcao analogRead, label=analogRead1,]
void setup()
{
}

int sensor;
float valorReal
void loop()
{
sensor = analogRead(A0); //  0<= sensor <=1023

ValorReal = (float)(5*sensor)/1023 // conversão de tipo de variável e conversão //   		                          //de escala usando uma regra de 3

}
\end{lstlisting}